<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Get started with open reproducible science!</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../img/ESIIL_portal.png" alt="ESIIL Learning Portal" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="http://earthdatascience.org"> 
<span class="menu-text">Classic earthdatascience.org</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#open-reproducible-science" id="toc-open-reproducible-science" class="nav-link active" data-scroll-target="#open-reproducible-science">Open reproducible science</a></li>
  <li><a href="#readable-well-documented-scientific-workflows-are-easier-to-reproduce" id="toc-readable-well-documented-scientific-workflows-are-easier-to-reproduce" class="nav-link" data-scroll-target="#readable-well-documented-scientific-workflows-are-easier-to-reproduce"><strong>Readable</strong>, <strong>well-documented</strong> scientific workflows are easier to reproduce</a></li>
  <li><a href="#what-the-fork-who-wrote-this" id="toc-what-the-fork-who-wrote-this" class="nav-link" data-scroll-target="#what-the-fork-who-wrote-this">What the fork?! Who wrote this?</a>
  <ul class="collapse">
  <li><a href="#alright-lets-clean-up-this-code.-first-things-first" id="toc-alright-lets-clean-up-this-code.-first-things-first" class="nav-link" data-scroll-target="#alright-lets-clean-up-this-code.-first-things-first">Alright! Let’s clean up this code. First things first…</a></li>
  </ul></li>
  <li><a href="#python-packages-let-you-use-code-written-by-experts-around-the-world" id="toc-python-packages-let-you-use-code-written-by-experts-around-the-world" class="nav-link" data-scroll-target="#python-packages-let-you-use-code-written-by-experts-around-the-world">Python <strong>packages</strong> let you use code written by experts around the world</a></li>
  <li><a href="#there-are-more-earth-observation-data-online-than-any-one-person-could-ever-look-at" id="toc-there-are-more-earth-observation-data-online-than-any-one-person-could-ever-look-at" class="nav-link" data-scroll-target="#there-are-more-earth-observation-data-online-than-any-one-person-could-ever-look-at">There are more Earth Observation data online than any one person could ever look at</a></li>
  <li><a href="#you-can-access-ncei-climate-at-a-glance-data-from-the-internet-using-its-url" id="toc-you-can-access-ncei-climate-at-a-glance-data-from-the-internet-using-its-url" class="nav-link" data-scroll-target="#you-can-access-ncei-climate-at-a-glance-data-from-the-internet-using-its-url">You can access NCEI Climate At a Glance Data from the internet using its URL</a></li>
  <li><a href="#download-and-get-started-working-with-ncei-data" id="toc-download-and-get-started-working-with-ncei-data" class="nav-link" data-scroll-target="#download-and-get-started-working-with-ncei-data">Download and get started working with NCEI data</a></li>
  <li><a href="#cleaning-up-your-dataframe" id="toc-cleaning-up-your-dataframe" class="nav-link" data-scroll-target="#cleaning-up-your-dataframe">Cleaning up your <code>DataFrame</code></a></li>
  <li><a href="#uh-oh-we-have-a-variable-problem" id="toc-uh-oh-we-have-a-variable-problem" class="nav-link" data-scroll-target="#uh-oh-we-have-a-variable-problem">Uh-oh, we have a variable problem</a></li>
  <li><a href="#data-conversion-to-celcius" id="toc-data-conversion-to-celcius" class="nav-link" data-scroll-target="#data-conversion-to-celcius">Data Conversion to Celcius</a></li>
  <li><a href="#plot-the-maximum-annual-temperature-in-rapid-city-sd-usa" id="toc-plot-the-maximum-annual-temperature-in-rapid-city-sd-usa" class="nav-link" data-scroll-target="#plot-the-maximum-annual-temperature-in-rapid-city-sd-usa">Plot the maximum annual temperature in Rapid City, SD, USA</a></li>
  <li><a href="#describe-your-plot-in-the-markdown-cell-below" id="toc-describe-your-plot-in-the-markdown-cell-below" class="nav-link" data-scroll-target="#describe-your-plot-in-the-markdown-cell-below">Describe your plot <strong>in the Markdown cell below</strong></a></li>
  <li><a href="#your-rapid-city-plot-headline-here" id="toc-your-rapid-city-plot-headline-here" class="nav-link" data-scroll-target="#your-rapid-city-plot-headline-here">YOUR RAPID CITY PLOT HEADLINE HERE</a></li>
  <li><a href="#your-turn-pick-a-new-location-andor-measurement-to-plot" id="toc-your-turn-pick-a-new-location-andor-measurement-to-plot" class="nav-link" data-scroll-target="#your-turn-pick-a-new-location-andor-measurement-to-plot">Your turn: pick a new location and/or measurement to plot</a></li>
  <li><a href="#congratulations-you-finished-this-coding-challenge-now-make-sure-that-your-code-is-reproducible" id="toc-congratulations-you-finished-this-coding-challenge-now-make-sure-that-your-code-is-reproducible" class="nav-link" data-scroll-target="#congratulations-you-finished-this-coding-challenge-now-make-sure-that-your-code-is-reproducible">Congratulations, you finished this coding challenge – now make sure that your code is <strong>reproducible</strong></a></li>
  <li><a href="#bibliography" id="toc-bibliography" class="nav-link" data-scroll-target="#bibliography">Bibliography</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="Get Started with Open Reproducible Science!.out.ipynb" download="Get Started with Open Reproducible Science!.out.ipynb"><i class="bi bi-journal-code"></i>Jupyter</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<!-- Modified from https://github.com/quarto-dev/quarto-cli/blob/main/src/resources/formats/html/templates/banner/title-block.html -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
    <div class="esiil-title-goals page-columns page-full">
      <div class="quarto-title column-body">
                <h1 class="title">Get started with open reproducible science!</h1>
                                
              </div>
    
      
    <div class="no-row-height column-margin column-container"><div class="">
        
        <div class="quarto-title-meta">

            
          
            
          </div>
          
      </div></div></div>
</header>


<section id="open-reproducible-science" class="level2">
<h2 class="anchored" data-anchor-id="open-reproducible-science">Open reproducible science</h2>
<p><img src="https://www.earthdata.nasa.gov/s3fs-public/2021-11/Circle_Diagram_UPDATE_2.jpg?VersionId=pFRniRpjtgc_MEXUJKi9_sXLoMsSX.pB" class="img-fluid" alt="Components of open science - accessible, reproducible, inclusive. Image source: NASA"> (Earth Science Data Systems, 2021)</p>
<p><a href="https://www.earthdatascience.org/courses/intro-to-earth-data-science/open-reproducible-science/get-started-open-reproducible-science/">Open reproducible science</a> makes scientific methods, data and outcomes available to everyone. That means that <em>everyone</em> who wants should be able to <strong>find</strong>, <strong>read</strong>, <strong>understand</strong>, and <strong>run</strong> your workflows for themselves.</p>
<p>Few if any science projects are 100% open and reproducible (yet!). However, members of the open science community have developed open source tools and practices that can help you move toward that goal. You will learn about many of those tools in <a href="https://www.earthdatascience.org/courses/intro-to-earth-data-science/">the Intro to Earth Data Science textbook</a>. Don’t worry about learning all the tools at once – we’ve picked a few for you to get started with.</p>
<blockquote class="blockquote">
<p><strong><i class="fa fa-solid fa-glasses fa-large" aria-label="glasses"></i> Further reading</strong></p>
<p>Read <a href="https://www.earthdatascience.org/courses/intro-to-earth-data-science/open-reproducible-science/get-started-open-reproducible-science/">our textbook chapter about open reproducible science</a>.</p>
</blockquote>
<blockquote class="blockquote">
<p><strong><i class="fa fa-solid fa-pen-to-square fa-large" aria-label="pen-to-square"></i> What does open reproducible science mean to you?</strong></p>
<p><i class="far fa-regular fa-square" aria-label="square"></i> Create a new Markdown cell below this one using the <code>+ Code</code> button in the upper left.</p>
<p><i class="far fa-regular fa-square" aria-label="square"></i> In the new cell, answer the following questions using a <strong>numbered list</strong> in Markdown:</p>
<ol type="1">
<li>In 1-2 sentences, define open reproducible science.</li>
<li>In 1-2 sentences, choose one of the open source tools that you have learned about (i.e.&nbsp;Shell, Git/GitHub, Jupyter Notebook, Python) and explain how it supports open reproducible science.</li>
</ol>
</blockquote>
<blockquote class="blockquote">
<p><strong><i class="fa fa-solid fa-pencil fa-large" aria-label="pencil"></i> Human-readable and Machine-readable</strong></p>
<p><i class="far fa-regular fa-square" aria-label="square"></i> Create a new Markdown cell below this one using the <kbd>ESC</kbd> + <kbd>b</kbd>` keyboard shortcut.</p>
<p><i class="far fa-regular fa-square" aria-label="square"></i> In the new cell, answer the following question in a Markdown <strong>quote</strong>:</p>
<ol type="1">
<li>In 1-2 sentences, does this Jupyter Notebook file have a machine-readable name? Explain your answer.</li>
</ol>
</blockquote>
<hr>
</section>
<section id="readable-well-documented-scientific-workflows-are-easier-to-reproduce" class="level2">
<h2 class="anchored" data-anchor-id="readable-well-documented-scientific-workflows-are-easier-to-reproduce"><strong>Readable</strong>, <strong>well-documented</strong> scientific workflows are easier to reproduce</h2>
<p>As the comic below suggests, code that is hard to read is also hard to get working. We refer to code that is easy to read as <strong>clean</strong> code.</p>
<figure class="figure">
<a href="https://www.explainxkcd.com/wiki/index.php/2138:_Wanna_See_the_Code%3F"><img src="https://imgs.xkcd.com/comics/wanna_see_the_code.png" alt="And because if you just leave it there, it’s going to start contaminating things downstream even if no one touches it directly. (from https://xkcd.com/2138/)" class="figure-img"></a>
<figcaption>
And because if you just leave it there, it’s going to start contaminating things downstream even if no one touches it directly. (from https://xkcd.com/2138/)
</figcaption>
</figure>
<p><img src="https://static.thenounproject.com/png/5640527-200.png" width="20" style="float: left; padding: 3px"> <strong>In the prompt below, list 3 things you can do to write clean code, and then list 3 more advantages of doing so.</strong> * Double click on the cell to edit * You can use examples from the textbook, or come up with your own. * Use <a href="https://www.markdownguide.org/"><strong>Markdown</strong></a> to format your list.</p>
<p>=== BEGIN MARK SCHEME ===</p>
<pre><code>(1 pt each) demonstrating understanding of clean code practices and advantages
(2 pt) Correct spelling and grammar</code></pre>
<p>=== END MARK SCHEME ===</p>
<p>I can write clean code by: * <code>YOUR ANSWER HERE</code></p>
<p>Advantages of clean code include: * <code>YOUR ANSWER HERE</code></p>
<hr>
</section>
<section id="what-the-fork-who-wrote-this" class="level2">
<h2 class="anchored" data-anchor-id="what-the-fork-who-wrote-this">What the fork?! Who wrote this?</h2>
<p>Below is a scientific Python workflow. But something’s wrong – The code won’t run! Your task is to follow the instructions below to <strong>clean and debug</strong> the Python code below so that it runs. &gt; Don’t worry if you can’t solve every bug right away. We’ll get there! The most important thing is to identify problems with the code and write high-quality <a href="https://docs.github.com/en/issues/tracking-your-work-with-issues/creating-an-issue#creating-an-issue-from-a-repository"><strong>GitHub Issues</strong></a></p>
<p>At the end, you’ll <strong>repeat the workflow</strong> for a location and measurement of your choosing.</p>
<section id="alright-lets-clean-up-this-code.-first-things-first" class="level3">
<h3 class="anchored" data-anchor-id="alright-lets-clean-up-this-code.-first-things-first">Alright! Let’s clean up this code. First things first…</h3>
<p><img src="https://static.thenounproject.com/png/4260107-200.png" width="20" style="float: left; padding: 3px"> Rename this notebook if necessary with an <a href="https://www.earthdatascience.org/courses/intro-to-earth-data-science/open-reproducible-science/get-started-open-reproducible-science/best-practices-for-organizing-open-reproducible-science/"><strong>expressive and machine-readable file name</strong></a></p>
<hr>
</section>
</section>
<section id="python-packages-let-you-use-code-written-by-experts-around-the-world" class="level2">
<h2 class="anchored" data-anchor-id="python-packages-let-you-use-code-written-by-experts-around-the-world">Python <strong>packages</strong> let you use code written by experts around the world</h2>
<p>Because Python is open source, lots of different people and organizations can contribute (including you!). Many contributions are in the form of <strong>packages</strong> which do not come with a standard Python download. Read more in your textbook: * <img src="https://uxwing.com/wp-content/themes/uxwing/download/education-school/read-book-icon.png" width="20" style="float: left; padding: 3px"> <a href="https://www.earthdatascience.org/courses/intro-to-earth-data-science/python-code-fundamentals/use-python-packages/">Packages need to be installed and <strong>imported</strong></a>.</p>
<ul>
<li><img src="https://uxwing.com/wp-content/themes/uxwing/download/education-school/read-book-icon.png" width="20" style="float: left; padding: 3px"> In the cell below, someone was trying to import the <strong>pandas package</strong>, which helps us to work with <a href="https://www.earthdatascience.org/courses/intro-to-earth-data-science/file-formats/use-text-files/"><strong>tabular data</strong> such as comma-separated value or csv files</a>.</li>
</ul>
<p><img src="https://static.thenounproject.com/png/4260107-200.png" width="20" style="float: left; padding: 3px"> Your task – <strong>uncomment</strong> the code in the cell below by removeing the <code>#</code> symbol on the left of line 2, and correct the typo to properly import the pandas package under its <strong>alias</strong> pd.</p>
<div id="c9998acb" class="cell" data-nbgrader="{&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;code-import&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#can't get this to work :(</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#import pands as pd</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">BEGIN</span><span class="co"> SOLUTION</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">END</span><span class="co"> SOLUTION</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Once you have run the cell above and imported <code>pandas</code>, <strong>run the cell below</strong>. It is a test cell that will tell you if you completed the task successfully. If a test cell isn’t working the way you expect, check that you ran your code <strong>immediately before</strong> running the test.</p>
<div id="b8904659" class="cell" data-nbgrader="{&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;test-import&quot;,&quot;locked&quot;:true,&quot;points&quot;:5,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DO NOT MODIFY THIS </span><span class="al">TEST</span><span class="co"> CELL</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>points <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    pd.DataFrame()</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    points <span class="op">+=</span> <span class="dv">5</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u2705</span><span class="st"> Great work! You correctly imported the pandas library.'</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span>:</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u274C</span><span class="st"> Oops - pandas was not imported correctly.'</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'You earned </span><span class="sc">{}</span><span class="st"> of 5 points for importing pandas'</span>.<span class="bu">format</span>(points))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="there-are-more-earth-observation-data-online-than-any-one-person-could-ever-look-at" class="level2">
<h2 class="anchored" data-anchor-id="there-are-more-earth-observation-data-online-than-any-one-person-could-ever-look-at">There are more Earth Observation data online than any one person could ever look at</h2>
<p><a href="https://www.earthdata.nasa.gov/learn/articles/getting-petabytes-people-how-eosdis-facilitates-earth-observing-data-discovery-and-use">NASA’s Earth Observing System Data and Information System (EOSDIS) alone manages over 9PB of data</a>. 1 PB is roughly 100 times the entire Library of Congress (a good approximation of all the books available in the US). It’s all available to <strong>you</strong> once you learn how to download what you want.</p>
<p>The following workflow looks at <strong>maximum daily average temperatures</strong> over time in Rapid City, South Dakota. This notebook uses data from the National Centers for Environmental Information (NCEI). <a href="https://www.ncei.noaa.gov/access/monitoring/climate-at-a-glance/">Check out the NCEI Climate at a Glance website where you can search for more data like this</a>. &gt; <strong>Wait a second - what is maximum daily average temperature?</strong> NCEI first takes the daily average temperature. Then, they take the annual maximum. You’ll notice these temperatures are a bit lower than we would expect from maxima - that’s because nighttime temperatures get incorporated into the daily average.</p>
<p><img src="https://static.thenounproject.com/png/5640527-200.png" width="20" style="float: left; padding: 3px"> Your task: 1. Research the <a href="https://www.ncei.noaa.gov/access/monitoring/climate-at-a-glance/"><strong>Climate at a Glance</strong></a> data source. 2. In the cell below, write a 2-3 sentence description of the data source. You should describe: - who takes the data - where the data were taken - what the maximum temperature units are - how the data are collected. 3. Include a citation of the data (HINT: NCEI has a section for ‘Citing this page’, but you will have to select a particular dataset such as <code>City</code> &gt; <code>Time Series</code>).</p>
<p>===BEGIN MARK SCHEME ===</p>
<p>“Climate at a Glance was developed at the request of NOAA Headquarters for near real-time analysis of monthly temperature and precipitation data across the contiguous U.S. and intended for the study of climate variability…Because these data are primarily intended for the study of climate variability, observations have been adjusted to account for the artificial effects introduced into the climate record by factors such as instrument changes, station relocation, observer practice changes and urbanization.”</p>
<p>NOAA National Centers for Environmental information, Climate at a Glance: City Time Series, published February 2023, retrieved on February 26, 2023 from https://www.ncei.noaa.gov/access/monitoring/climate-at-a-glance/city/time-series</p>
<p>=== END MARK SCHEME ===</p>
<p><strong>YOUR DATA DESCRIPTION AND CITATION HERE</strong></p>
</section>
<section id="you-can-access-ncei-climate-at-a-glance-data-from-the-internet-using-its-url" class="level2">
<h2 class="anchored" data-anchor-id="you-can-access-ncei-climate-at-a-glance-data-from-the-internet-using-its-url">You can access NCEI Climate At a Glance Data from the internet using its URL</h2>
<p>The cell below contains the URL for the data you will use in this part of the notebook. We got that URL by right-clicking on the blue <code>CSV</code> download button. You don’t have to do that just yet – this URL is correct! However, we still have a problem - we can’t get the URL back later on because it isn’t saved in a <strong>variable</strong>. In other words, we need to give the url a name so that we can request in from Python later (sadly, Python has no ‘hey what was that thingy I typed earlier?’ function)</p>
<p><img src="https://uxwing.com/wp-content/themes/uxwing/download/education-school/read-book-icon.png" width="20" style="float: left; padding: 3px"> Check out the <a href="https://www.earthdatascience.org/courses/intro-to-earth-data-science/python-code-fundamentals/get-started-using-python/variables/">textbook section on variables</a></p>
<p><img src="https://static.thenounproject.com/png/4260107-200.png" width="20" style="float: left; padding: 3px"> <strong>Your task:</strong> 1. Pick an expressive variable name for the URL &gt; HINT: click on the <code>Variables</code> button up top to see all your variables. Your new url variable will not be there until you define it and run the code 2. Reformat the URL so that it adheres to the <a href="https://peps.python.org/pep-0008/#maximum-line-length">79-character PEP-8 line limit</a> &gt; HINT: You should see two vertical lines in each cell - don’t let your code go past the second line 3. At the end of the cell where you define your url variable, <strong>call your variable (type out its name)</strong> so it can be tested.</p>
<div id="f1ad87d9" class="cell" data-code_folding="[]" data-nbgrader="{&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;ans-url&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">'https://www.ncei.noaa.gov/access/monitoring/climate-at-a-glance/city/time-series/USW00024090/tmax/ann/2/1949-2023.csv'</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">BEGIN</span><span class="co"> SOLUTION</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>my_url <span class="op">=</span> (</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://www.ncei.noaa.gov/access/monitoring/climate-at-a-glance/"</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"city/time-series/USW00024090/tmax/ann/2/1949-2023.csv"</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(my_url))</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>my_url</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">END</span><span class="co"> SOLUTION</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="522cbd6a" class="cell" data-nbgrader="{&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;test-url&quot;,&quot;locked&quot;:true,&quot;points&quot;:6,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DO NOT MODIFY THIS </span><span class="al">TEST</span><span class="co"> CELL</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>resp_url <span class="op">=</span> _</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>points <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">type</span>(resp_url)<span class="op">==</span><span class="bu">str</span>:</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    points <span class="op">+=</span> <span class="dv">3</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u2705</span><span class="st"> Great work! You correctly called your url variable.'</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u274C</span><span class="st"> Oops - your url variable was not called correctly.'</span>)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">len</span>(resp_url)<span class="op">==</span><span class="dv">117</span>:</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    points <span class="op">+=</span> <span class="dv">3</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u2705</span><span class="st"> Great work! Your url is the correct length.'</span>)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u274C</span><span class="st"> Oops - your url variable is not the correct length.'</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'You earned </span><span class="sc">{}</span><span class="st"> of 6 points for defining a url variable'</span>.<span class="bu">format</span>(points))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="download-and-get-started-working-with-ncei-data" class="level2">
<h2 class="anchored" data-anchor-id="download-and-get-started-working-with-ncei-data">Download and get started working with NCEI data</h2>
<p>The <code>pandas</code> library you imported can download data from the internet directly into a type of Python <strong>object</strong> called a <code>DataFrame</code>. In the code cell below, you can see an attempt to do just this. But there are some problems…</p>
<p><img src="https://static.thenounproject.com/png/5640527-200.png" width="20" style="float: left; padding: 3px"> What do you notice about the code below? Answer the following questions in <strong>this cell</strong>:</p>
<ol type="1">
<li><p>What do you think the <strong>parameters</strong> of the <code>pd.read_csv()</code> function are supposed to do? &gt; HINT: Check out <a href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html">the pandas read_csv() documentation</a> for more info. You can also try changing the values and running the cell to see what happens! * my_url: <code>YOUR ANSWER HERE</code> * header: <code>YOUR ANSWER HERE</code> * names: <code>YOUR ANSWER HERE</code></p></li>
<li><p>Are the data importing correctly? Why or why not?</p>
<p><code>YOUR ANSWER HERE</code></p></li>
<li><p>What are two things you could do to make this code more <strong>expressive</strong>? 1. <code>YOUR ANSWER HERE</code> 2. <code>YOUR ANSWER HERE</code></p></li>
</ol>
<p><img src="https://static.thenounproject.com/png/4260107-200.png" width="20" style="float: left; padding: 3px"> You’re ready to fix some code! Your task is to: 1. Make any changes needed to get this code to run. Here’s some hints: &gt; HINT: The my_url variable doesn’t exist - you need to replace it with the variable name <strong>you</strong> chose. 2. Modify the value of the <code>header</code> parameter so that only numeric data values are included in each column. 3. Clean up the code by using <strong>expressive variable names</strong>, <strong>expressive column names</strong>, <strong>PEP-8 compliant code</strong>, and <strong>descriptive comments</strong></p>
<p><strong>Make sure to call your <code>DataFrame</code> by typing it’s name as the last line of your code cell</strong> Then, you will be able to run the test cell below and find out if your answer is correct.</p>
<p>=== BEGIN MARK SCHEME ===</p>
<pre><code>(2 pts) Expressive column names

(2 pts) Expressive variable names

(1 pt) PEP-8

(1 pt) Descriptive comment</code></pre>
<p>=== END MARK SCHEME ===</p>
<div id="9c9a81a0" class="cell" data-nbgrader="{&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;ans-download&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#download</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>dataframe <span class="op">=</span> pd.read_csv(my_url, header<span class="op">=</span><span class="dv">2</span>, names<span class="op">=</span>[<span class="st">'col_1'</span>, <span class="st">'col_2'</span>])</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>dataframe</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">BEGIN</span><span class="co"> SOLUTION</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Fix the dataframe variable</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>dataframe <span class="op">=</span> pd.read_csv(my_url, header<span class="op">=</span><span class="dv">3</span>, names<span class="op">=</span>[<span class="st">'col_1'</span>, <span class="st">'col_2'</span>])</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Read Annual Maximum Temperature Data in to a DataFrame</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>sd_tmax_df <span class="op">=</span> pd.read_csv(</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    my_url, </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    header<span class="op">=</span><span class="dv">3</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    names<span class="op">=</span>[<span class="st">'year'</span>, <span class="st">'temperature_f'</span>])</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>([<span class="bu">round</span>(val, <span class="dv">2</span>) <span class="cf">for</span> val <span class="kw">in</span> sd_tmax_df.mean().values])</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>sd_tmax_df</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">END</span><span class="co"> SOLUTION</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="acf1ae2b" class="cell" data-nbgrader="{&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;test-download&quot;,&quot;locked&quot;:true,&quot;points&quot;:5,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DO NOT MODIFY THIS </span><span class="al">TEST</span><span class="co"> CELL</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>tmax_df_resp <span class="op">=</span> _</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>points <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">isinstance</span>(tmax_df_resp, pd.DataFrame):</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    points <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u2705</span><span class="st"> Great work! You called a DataFrame.'</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u274C</span><span class="st"> Oops - make sure to call your DataFrame for testing.'</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>summary <span class="op">=</span> [<span class="bu">round</span>(val, <span class="dv">2</span>) <span class="cf">for</span> val <span class="kw">in</span> tmax_df_resp.mean().values]</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> summary <span class="op">==</span> [<span class="fl">198562.0</span>, <span class="fl">58.89</span>]:</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    points <span class="op">+=</span> <span class="dv">4</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u2705</span><span class="st"> Great work! You correctly downloaded data.'</span>)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u274C</span><span class="st"> Oops - your data are not correct.'</span>)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'You earned </span><span class="sc">{}</span><span class="st"> of 5 points for downloading data'</span>.<span class="bu">format</span>(points))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p>HINT: Check out the <code>type()</code> function below - you can use it to check that your data is now in <code>DataFrame</code> type object</p>
</blockquote>
<div id="739352cc" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check that the data was imported into a pandas DataFrame</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(dataframe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="cleaning-up-your-dataframe" class="level2">
<h2 class="anchored" data-anchor-id="cleaning-up-your-dataframe">Cleaning up your <code>DataFrame</code></h2>
<p>Take a look at your data. Do you want to use it as is, or does it need to be modified? The original author of this code thought it needed some modification, but didn’t document their work very well.</p>
<p><img src="https://static.thenounproject.com/png/4260107-200.png" width="20" style="float: left; padding: 3px"> Playing with code: your task</p>
<ol type="1">
<li>Replace <code>dataframe</code> with the name of <strong>your</strong> dataframe whenever it appears.</li>
<li>Run the code below.</li>
</ol>
<div id="7c2b50bb" class="cell" data-nbgrader="{&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;ans-years&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ncei has wacky years</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>dataframe.iloc[:,<span class="dv">0</span>] <span class="op">=</span> dataframe.iloc[:,<span class="dv">0</span>] <span class="op">//</span> <span class="dv">100</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>dataframe</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">BEGIN</span><span class="co"> SOLUTION</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>sd_tmax_df.year <span class="op">=</span> sd_tmax_df.year <span class="op">//</span> <span class="dv">100</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>([<span class="bu">round</span>(val, <span class="dv">2</span>) <span class="cf">for</span> val <span class="kw">in</span> sd_tmax_df.mean().values])</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>sd_tmax_df</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">END</span><span class="co"> SOLUTION</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5e66552c" class="cell" data-nbgrader="{&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;test-years&quot;,&quot;locked&quot;:true,&quot;points&quot;:5,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DO NOT MODIFY THIS </span><span class="al">TEST</span><span class="co"> CELL</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>tmax_df_resp <span class="op">=</span> _</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>points <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">isinstance</span>(tmax_df_resp, pd.DataFrame):</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    points <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u2705</span><span class="st"> Great work! You called a DataFrame.'</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u274C</span><span class="st"> Oops - make sure to call your DataFrame for testing.'</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>summary <span class="op">=</span> [<span class="bu">round</span>(val, <span class="dv">2</span>) <span class="cf">for</span> val <span class="kw">in</span> tmax_df_resp.mean().values]</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> summary <span class="op">==</span> [<span class="fl">1985.5</span>, <span class="fl">58.89</span>]:</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    points <span class="op">+=</span> <span class="dv">4</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u2705</span><span class="st"> Great work! You correctly cleaned up years.'</span>)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u274C</span><span class="st"> Oops - your data are not correct.'</span>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'You earned </span><span class="sc">{}</span><span class="st"> of 5 points for cleaning up years'</span>.<span class="bu">format</span>(points))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="https://static.thenounproject.com/png/3842781-200.png" width="20" style="float: left; padding: 3px"> Want an EXTRA CHALLENGE? Modify the code to be <strong>more expressive</strong>.</p>
<p>Rewrite the code below to select columns by <strong>name</strong> instead of by <strong>index</strong>. You might find the <a href="https://pandas.pydata.org/docs/user_guide/indexing.html">pandas User Guide section on slicing and dicing</a> to be useful. However - don’t worry if you can’t figure this out yet! We’re going to talk a lot about how to use pandas <code>DataFrame</code>s.</p>
<p><img src="https://static.thenounproject.com/png/5640527-200.png" width="20" style="float: left; padding: 3px"> <strong>What just happened?</strong> 1. <code>+</code>, <code>-</code>, <code>*</code> and <code>/</code> are known as <strong>operators</strong> in Python, and are used for arithmetic (add, subtract, multiply, and divide, respectively). <strong>What do you think the <code>//</code> operator does?</strong></p>
<p><code>YOUR ANSWER HERE</code></p>
<ol type="1">
<li><code>iloc</code> is an <strong>attribute</strong> of <code>DataFrame</code>s, meaning that it is available for all <code>DataFrame</code>s by attaching <code>.iloc</code> to the end its name. <strong>What do you think the <code>iloc</code> is or does?</strong></li>
</ol>
<p><code>YOUR ANSWER HERE</code></p>
<blockquote class="blockquote">
<p>HINT: It’s ok if you can’t figure out these questions yet. You can also list an experiment you tried. For example, you could run <code>4 // 2</code> and <code>4 // 3</code> in a new code cell and record the answers to help you figure out what <code>//</code> does. Or, you could change the <code>0</code> in <code>.iloc[:,0]</code> to <code>1</code> to see what happens. Play around with the code! It doesn’t cost you anything to try things when you’re coding.</p>
</blockquote>
<hr>
</section>
<section id="uh-oh-we-have-a-variable-problem" class="level2">
<h2 class="anchored" data-anchor-id="uh-oh-we-have-a-variable-problem">Uh-oh, we have a variable problem</h2>
<p><img src="https://static.thenounproject.com/png/5640527-200.png" width="20" style="float: left; padding: 3px"> Try running the cell above a second time. And a third time. What do you notice?</p>
<p><code>YOUR ANSWER HERE</code></p>
<p>You don’t have to do anything about this now - you can go <code>Run all</code> to reset. In the future, there are two approaches we recommend to address this sort of problem: 1. Do not modify a <code>DataFrame</code> after it has been created - perform any changes you need in the <strong>same cell</strong> where you create the <code>DataFrame</code> using <code>pd.read_csv()</code>. 2. <strong>Save a copy</strong> of the <code>DataFrame</code> using the <code>.copy()</code> method of <code>DataFrame</code>s and modify the copy (in the same cell)</p>
</section>
<section id="data-conversion-to-celcius" class="level2">
<h2 class="anchored" data-anchor-id="data-conversion-to-celcius">Data Conversion to Celcius</h2>
<p>The cell below converts the data to Celcius, using Python mathematical <strong>operators</strong>. Again, it’s not well documented and doesn’t follow <a href="https://peps.python.org/pep-0008/#other-recommendations">PEP-8 guidelines</a>. This has caused the author to miss an important error!</p>
<p><img src="https://static.thenounproject.com/png/4260107-200.png" width="20" style="float: left; padding: 3px"> Your task: 1. Replace the variable name <code>dataframe</code> with the name of <strong>your</strong> <code>DataFrame</code>. 2. Fix the error</p>
<p><img src="https://static.thenounproject.com/png/5640527-200.png" width="20" style="float: left; padding: 3px"> What is the mistake in the equation below? You might want to try writing out the formula for converting Fahrenheit to Celcius.</p>
<p><code>YOUR ANSWER HERE</code></p>
<div id="f2bdbbe5" class="cell" data-nbgrader="{&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;ans-convert&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-execution_count="11">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#convert to celcius</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>dataframe.iloc[:,<span class="dv">1</span>] <span class="op">=</span> dataframe.iloc[:,<span class="dv">1</span>] <span class="op">-</span> <span class="dv">32</span> <span class="op">*</span> <span class="dv">5</span> <span class="op">/</span> <span class="dv">9</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>dataframe</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">BEGIN</span><span class="co"> SOLUTION</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>sd_tmax_df[<span class="st">'temperature_c'</span>] <span class="op">=</span> (sd_tmax_df[<span class="st">'temperature_f'</span>] <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> <span class="dv">5</span><span class="op">/</span><span class="dv">9</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>([<span class="bu">round</span>(val, <span class="dv">2</span>) <span class="cf">for</span> val <span class="kw">in</span> sd_tmax_df.mean().values])</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>sd_tmax_df</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">END</span><span class="co"> SOLUTION</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="4602d041" class="cell" data-nbgrader="{&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-6b2f3f995cff90be&quot;,&quot;locked&quot;:true,&quot;points&quot;:5,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-execution_count="12">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DO NOT MODIFY THIS </span><span class="al">TEST</span><span class="co"> CELL</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>tmax_df_resp <span class="op">=</span> _</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>points <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">isinstance</span>(tmax_df_resp, pd.DataFrame):</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    points <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u2705</span><span class="st"> Great work! You called a DataFrame.'</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u274C</span><span class="st"> Oops - make sure to call your DataFrame for testing.'</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>summary <span class="op">=</span> [<span class="bu">round</span>(val, <span class="dv">2</span>) <span class="cf">for</span> val <span class="kw">in</span> tmax_df_resp.mean().values]</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> summary <span class="op">==</span> [<span class="fl">1985.5</span>, <span class="fl">59.04</span>, <span class="fl">15.02</span>]:</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    points <span class="op">+=</span> <span class="dv">4</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u2705</span><span class="st"> Great work! You correctly converted to Celcius.'</span>)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\u274C</span><span class="st"> Oops - your data are not correct.'</span>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'You earned </span><span class="sc">{}</span><span class="st"> of 5 points for converting to Celcius'</span>.<span class="bu">format</span>(points))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="https://static.thenounproject.com/png/3842781-200.png" width="20" style="float: left; padding: 3px"> Want an <strong>EXTRA CHALLENGE</strong>? 1. As you did above, rewrite the code to be more expressive 2. Using the code below as a framework, write and apply a <strong>function</strong> that converts to Celcius. &gt; <strong>Functions</strong> let you reuse code you have already written</p>
<ol type="1">
<li><p>You should also rewrite this function name to be more expressive.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert(temperature):</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Convert temperature to Celcius"""</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> temperature <span class="co"># Put your equation in here</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>dataframe[<span class="st">'temp_c'</span>] <span class="op">=</span> dataframe[<span class="st">'temp_f'</span>].<span class="bu">apply</span>(convert)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
</section>
<section id="plot-the-maximum-annual-temperature-in-rapid-city-sd-usa" class="level2">
<h2 class="anchored" data-anchor-id="plot-the-maximum-annual-temperature-in-rapid-city-sd-usa">Plot the maximum annual temperature in Rapid City, SD, USA</h2>
<p>Plotting in Python is easy, but not quite this easy! You’ll always need to add some instructions on labels and how you want your plot to look.</p>
<ol type="1">
<li>Change <code>dataframe</code> to <strong>your</strong> <code>DataFrame</code> name.</li>
<li>Change <code>'col_1'</code> and <code>'col_2'</code> to <strong>your</strong> column names</li>
<li>Use the <code>title</code>, <code>ylabel</code>, and <code>xlabel</code> parameters to add key text to your plot.</li>
</ol>
<blockquote class="blockquote">
<p>HINT: labels have to be a type in Python called a <strong>string</strong>. You can make a string by putting quotes around your label, just like the column names in the sample code.</p>
</blockquote>
<div id="2c06b566" class="cell" data-nbgrader="{&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;ans-plot&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-execution_count="13">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>dataframe.plot(x<span class="op">=</span><span class="st">'col_1'</span>, y<span class="op">=</span><span class="st">'col_2'</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">BEGIN</span><span class="co"> SOLUTION</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>sd_tmax_df.plot(</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'temperature_c'</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'year'</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Maximum Annual Temperature in Rapid City, SD, USA'</span>,</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    ylabel<span class="op">=</span><span class="st">'Temperature ($^\circ$F)'</span>,</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    xlabel<span class="op">=</span><span class="st">'Year'</span>,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="re">END</span><span class="co"> SOLUTION</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>THIS ISN’T THE END! Don’t forget to complete the next task where you will describe your plot</strong></p>
<p><img src="https://www.nps.gov/pais/learn/nature/images/NPS-KempsRidley-Hatchlings.JPG" height="150" style="padding: 1em; border-style: solid; border-color: grey;"></p>
<blockquote class="blockquote">
<p>Image source: https://www.nps.gov/pais/learn/nature/hatchlingreleases.htm</p>
</blockquote>
<p><img src="https://static.thenounproject.com/png/3842781-200.png" width="20" style="float: left; padding: 3px"> Want an <strong>EXTRA CHALLENGE</strong>?</p>
<p>There are many other things you can do to customize your plot. Take a look at the <a href="https://pandas.pydata.org/docs/user_guide/visualization.html">pandas plotting galleries</a> and the <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.html">documentation of plot</a> to see if there’s other changes you want to make to your plot. Some possibilities include: * Remove the legend since there’s only one data series * Increase the figure size * Increase the font size * Change the colors * Use a bar graph instead (usually we use lines for time series, but since this is annual it could go either way) * Add a trend line</p>
</section>
<section id="describe-your-plot-in-the-markdown-cell-below" class="level2">
<h2 class="anchored" data-anchor-id="describe-your-plot-in-the-markdown-cell-below">Describe your plot <strong>in the Markdown cell below</strong></h2>
<p>We like to use an approach called “Assertion-Evidence” for presenting scientific results. There’s a lot of video tutorials and example talks available on <a href="https://www.assertion-evidence.com/">the Assertion-Evidence web page</a>. The main thing you need to do now is to practice writing a <strong>message</strong> or <strong>headline</strong> rather than descriptions or topic sentences for the plot you just made (what they refer to as “visual evidence”).</p>
<p>For example, it would be tempting to write something like “A plot of maximum annual temperature in Rapid City, South Dakota over time (1947-2023)”. However, this doesn’t give the reader anything to look at, or explain why we made this particular plot (we know, you made <strong>this</strong> one because we told you to)</p>
<p>Some alternatives that are more of a starting point for a presentation or conversation are: * Rapid City, SD, USA experienced extreme heat in 2013 * Extreme temperatures in Rapid City, SD appear to be on the rise over the past 70 years * Maximum annual temperatures in Rapid City, SD are becoming more variable over the previous 70 years</p>
<p>We could back up some of these claims with further analysis included later on, but we want to make sure that our audience has some guidance on what to look for in the plot.</p>
<p>=== BEGIN MARK SCHEME ===</p>
<pre><code>(2 pts) Headline

(3 pts) Description</code></pre>
<p>=== END MARK SCHEME ===</p>
</section>
<section id="your-rapid-city-plot-headline-here" class="level2">
<h2 class="anchored" data-anchor-id="your-rapid-city-plot-headline-here">YOUR RAPID CITY PLOT HEADLINE HERE</h2>
<p>Describe your plot in this cell in 2-3 sentences</p>
<p><strong>THIS ISN’T THE END EITHER! Don’t forget to reproduce your analysis in a new location!</strong></p>
<p><img src="https://static.independent.co.uk/s3fs-public/thumbnails/image/2008/12/26/20/107000.jpg" height="150" style="padding: 1em; border-style: solid; border-color: grey;"></p>
<blockquote class="blockquote">
<p>Image source: https://www.independent.co.uk/climate-change/news/by-the-left-quick-march-the-emperor-penguins-migration-1212420.html</p>
</blockquote>
</section>
<section id="your-turn-pick-a-new-location-andor-measurement-to-plot" class="level2">
<h2 class="anchored" data-anchor-id="your-turn-pick-a-new-location-andor-measurement-to-plot">Your turn: pick a new location and/or measurement to plot</h2>
<p>Below, recreate the workflow you just did in a place that interests you OR with a different measurement. See the instructions above fore how to get your URL. You will need to make your own new Markdown and Code cells below this one.</p>
</section>
<section id="congratulations-you-finished-this-coding-challenge-now-make-sure-that-your-code-is-reproducible" class="level2">
<h2 class="anchored" data-anchor-id="congratulations-you-finished-this-coding-challenge-now-make-sure-that-your-code-is-reproducible">Congratulations, you finished this coding challenge – now make sure that your code is <strong>reproducible</strong></h2>
<ol type="1">
<li><p>If you didn’t already, go back to the code you modified about and write more descriptive <strong>comments</strong> so the next person to use this code knows what it does.</p></li>
<li><p>Make sure to <code>Restart</code> and <code>Run all</code> up at the top of your notebook. This will clear all your variables and make sure that your code runs in the correct order. It will also export your work in Markdown format, which you can put on your website.</p></li>
</ol>
<p><img src="https://dfwurbanwildlife.com/wp-content/uploads/2018/03/SnowGeese16.jpg" height="150" style="padding: 1em; border-style: solid; border-color: grey;"></p>
<blockquote class="blockquote">
<p>Image source: https://dfwurbanwildlife.com/2018/03/25/chris-jacksons-dfw-urban-wildlife/snow-geese-galore/</p>
</blockquote>
<div id="dbc2a847" class="cell" data-tags="[&quot;remove_cell&quot;]" data-execution_count="14">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>jupyter nbconvert <span class="op">--</span>to markdown <span class="op">*</span>.ipynb <span class="op">--</span>TagRemovePreprocessor.remove_cell_tags<span class="op">=</span><span class="st">'{"remove_cell"}'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="bibliography" class="level2">
<h2 class="anchored" data-anchor-id="bibliography">Bibliography</h2>
<p>Earth Science Data Systems, N. (2021, October 5). Open Source Science for the Earth System Observatory Mission Data Processing Study Workshops | Earthdata [Tutorial]. Earth Science Data Systems, NASA. https://www.earthdata.nasa.gov/technology/open-science/oss-for-eso-workshops</p>
<p>U.S. Geological Survey. (n.d.). Landsat 8 [Remote-sensing image]. National Aeronautics and Space Administration, U.S. Government, U.S. Geological Survey. Retrieved April 4, 2024, from http://eros.usgs.gov</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("^(?!((http:|https:)\/\/))");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://esiil.org/">
<p>About ESIIL</p>
</a>
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>